{"mappings":"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","sources":["src/scripts/app.js"],"sourcesContent":["function DOMCargado() {\n\n  let input = document.getElementById(\"entrada\");\n  let btnGenerar = document.getElementById(\"lanza\");\n  let output = document.querySelector(\".output\");\n  let fechaNacimiento = document.getElementById('fechanacimiento');\n  let fechaNacimientoUsuario = 10, entradaTexto = \"\", frnegativa, frpositiva, diasfinanyo, diahoy, agnio, frpalabras = 10, radiog = 10, radio;\n  let width = window.innerWidth;\n  let height = window.innerHeight / 2;\n\n  const datos = [\n    {\n      id: 0, angle: 0, x: -60, y: 0, lupa: 3, color: 'black', nombre: '0'\n    },{\n      id: 1, angle: 0, x: 35, y: 0, lupa: 24, color: '#2BC4A9', nombre: '1'\n    },{\n      id: 2, angle: 0, x: 15, y: 50, lupa: 13, color: '#FF6874', nombre: '2'\n    },{\n      id: 3, angle: 0, x: 15, y: -45, lupa: 4, color: '#9F9FFF', nombre: '3'\n    },{\n      id: 4, angle: 0, x: 0, y: 0, lupa: 3, color: '#FFFF9F', nombre: '4'\n    },{\n      id: 5, angle: 0, x: -17, y: 50, lupa: 3, color: 'grey', nombre: '5'\n    },{\n      id: 6, angle: 0, x: -17, y: -45, lupa: 3, color: 'grey', nombre: '6'\n    },{\n      id: 7, angle: 0, x: -38, y: 0, lupa: 3, color: 'grey', nombre: '7'\n    },{\n      id: 8, angle: 0, x: -50, y: 50, lupa: 3, color: 'grey', nombre: '8'\n    },{\n      id: 9, angle: 0, x: -50, y: -45, lupa: 3, color: 'grey', nombre: '9'\n    }\n  ];\n\n  radio = height / 2;\n\n  const container = d3.select(\"#grafica\")\n    .append(\"svg\")\n    .attr(\"width\", width)\n    .attr(\"height\", height);\n\n  const group = container\n    .append(\"g\")\n    .attr(\"transform\", `translate(${width / 2},${height / 2})`)\n    .attr(\"id\", \"grafic\");\n\n  // Ajusta svg y g a window\n  d3.select(window).on(\"resize\", (e) => {\n    let iw = e.target.innerWidth;\n    let ih = e.target.innerHeight;\n    container\n    .attr(\"width\", iw)\n    .attr(\"height\", ih / 2);\n    group.attr(\"transform\", `translate(${iw / 2},${ih / 4})`);\n  })\n\n  // Circulo grande\n  group\n    .append(\"circle\")\n    .attr(\"r\", radio / 1.5)\n    .attr(\"cx\", radio / 2 - radio / 2)\n    .attr(\"strokeWidth\", \"1px\")\n    .attr(\"fill\", \"none\");\n\n  // Circulo grande2\n  group\n  .append(\"circle\")\n  .attr(\"r\", radio / 1.5)\n  .attr(\"cx\", radio / 1.5)\n\n  group\n    .attr(\"stroke\", datos[0].color)\n    .attr(\"strokeWidth\", \"1px\")\n    .attr(\"fill\", \"none\");\n\n  // Circulo grande2\n  group\n    .append(\"circle\")\n    .attr(\"r\", radio / 1.5)\n    .attr(\"cx\", -(radio / 1.5))\n    .attr(\"stroke\", datos[0].color)\n    .on('mouseover', (e) => { e.target.style.fill = datos[0].color })\n    .on('mouseout', (e) => { e.target.style.fill = datos[1].color })\n\n  // https://bl.ocks.org/mbostock/3151228\n\n  group\n    .selectAll(\"text\")\n    .data(datos)\n    .enter()\n    .append(\"text\")\n    .attr(\"x\", d => d.x * Math.PI)\n    .attr(\"y\", d => d.y)\n    .attr(\"transform\", d => {\n      return `translate(${d.x}, ${d.y})`\n    })\n    .text(d => d.nombre)\n    .attr(\"fill\", d => d.color)\n\n  const arco = d3.arc()\n    .innerRadius(129)\n    .outerRadius(131)\n    .startAngle(Math.PI / 2)\n    .endAngle(Math.PI * 3 / 2);\n\n  const arco2 = d3.arc()\n    .innerRadius(129)\n    .outerRadius(135)\n    .startAngle(Math.PI * 2)\n    .endAngle(10);\n\n  // Arcos\n  group\n    .append(\"path\")\n    .attr(\"d\", arco)\n    .attr(\"stroke\", \"none\");\n\n    group\n    .append(\"path\")\n    .attr(\"d\", arco2)\n    .attr(\"transform\", `rotate(360) translate(-${radio * 1.345} 0)`)\n    .attr(\"stroke\", \"none\");\n\n  // Uno\n  group\n    .append(\"circle\")\n    .attr(\"r\", radio / 3)\n    .attr(\"cx\", radio / 3)\n    .attr(\"stroke\", datos[0].color)\n    .attr(\"strokeWidth\", \"1px\")\n    .attr(\"fill\", \"none\")\n\n  // Dos\n  group\n    .append(\"circle\")\n    .attr(\"r\", radio / 3)\n    .attr(\"cx\", radio / 3 - radio / 1.5)\n    .attr(\"stroke\", datos[0].color)\n    .attr(\"fill\", \"none\")\n    .attr(\"strokeWidth\", \"1px\")\n\n  // Tres\n  group\n    .append(\"circle\")\n    .attr(\"r\", radio / 3)\n    .attr(\"cx\", 0)\n    .attr(\"stroke\", datos[0].color)\n    .attr(\"fill\", \"none\")\n    .attr(\"strokeWidth\", \"1px\")\n\n  // Cuatro\n  group\n    .append(\"circle\")\n    .attr(\"r\", radio / 3)\n    .attr(\"cx\", radio - radio / 3)\n    .attr(\"stroke\", datos[0].color)\n    .attr(\"fill\", \"none\")\n    .attr(\"strokeWidth\", \"1px\")\n\n  // Input fecha\n  fechaNacimiento.addEventListener('change', (e) => {\n    fechaNacimientoUsuario = e.target.value;\n    frpositiva = parseInt(inputFecha(fechaNacimientoUsuario));\n    frnegativa = parseInt(frpositiva - obtenerCantidadDias(agnio));\n  });\n\n  // BTN Generar Grafica\n  btnGenerar.addEventListener(\"click\", () => {\n    entradaTexto = input.value; //inserta input texto\n    let normaliza = entradaTexto.toLowerCase()\n    const removeAccents = (str) => {\n      return str.normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\");\n    }\n    let textoIntroducido = removeAccents(normaliza);\n    frpalabras = extraeValoresLetras(textoIntroducido).reduce((a, v) => (a += v, +a), 0);\n\n    let fechaActual = new Date();\n    diahoy = diasTranscurridos(fechaActual);\n    diasfinanyo = obtenerCantidadDias(agnio) - diahoy;\n\n    let grafica = [\n      frpalabras,\n      diahoy,\n      diasfinanyo,\n      frpositiva,\n      frnegativa\n    ];\n\n    // grafica lineas output\n    group\n      .selectAll(\"line\")\n      .data(grafica)\n      .enter()\n      .append(\"line\")\n      .attr(\"stroke\", datos[3].color)\n      .attr(\"stroke-width\", \"10px\")\n      .attr(\"x1\", \"0\")\n      .attr(\"y1\", \"0\")\n      .attr(\"x2\", d => d)\n      .attr(\"y2\", \"100\")\n      .exit()\n\n    output.classList.add(\"resultado\")\n\n    output.innerHTML = `\n        <h2>${frpalabras}</h2>\n        <h2>${diahoy}-${diasfinanyo}</h2>\n        <h2>${frpositiva}${frnegativa}</h2>\n      `\n  })\n\n  function inputFecha(f1) {\n    var aFecha1 = f1.split('-'); // ['1975', '10', '15']\n    var fFecha1 = Date.UTC(aFecha1[0], aFecha1[1] - 1, aFecha1[2]);\n    var fFecha2 = Date.UTC(aFecha1[0], -0, 0);\n    agnio = aFecha1[0];\n    var dif = (fFecha1 - fFecha2) / (1000 * 60 * 60 * 24);\n    return Math.floor(dif);\n  }\n\n  // dias del año transcurridos hasta hoy\n  function diasTranscurridos(fechaactual) {\n    let previo = new Date(fechaactual.getFullYear(), 0, 1);\n    let actual = new Date(fechaactual.getTime());\n\n    return Math.ceil((actual - previo + 1) / 86400000);\n  }\n\n  // Codigo nombre\n  function extraeValoresLetras(cadenaTexto) {\n    const diccionario = {\n      a: 1, b: 2, c: 3, d: 4, e: 5, f: 6, g: 7, h: 8, i: 9, j: 10, k: 11, l: 12, m: 13, n: 14, ñ: 15, o: 16, p: 17, q: 18, r: 19, s: 20, t: 21, u: 22, v: 23, w: 24, x: 25, y: 26, z: 27\n    }\n\n    if (cadenaTexto.length == 1) {\n      return diccionario[cadenaTexto] || ' ';\n    }\n    return cadenaTexto.split('').map(extraeValoresLetras);\n  }\n\n  function esAgnioBisiesto(agnio) {\n    return agnio % 400 == 0 || (agnio % 100 != 0 && agnio % 4 == 0);\n  }\n\n  function obtenerCantidadDias(agnio) {\n    return esAgnioBisiesto(agnio) ? 366 : 365;\n  }\n\n  // let sz1 = 50;\n  // let sz2 = 20;\n  // let sz3 = 30;\n  // let pPath = `M 0,0 C -${sz2},-${sz2}, -${sz2},-${sz3} 0,-${sz1} C ${sz2},-${sz3} ${sz2},-${sz2} 0,0`;\n\n}\ndocument.addEventListener(\"DOMContentLoaded\", DOMCargado);\n"],"names":["DOMCargado","frnegativa","frpositiva","diasfinanyo","diahoy","agnio1","radio","input","document","getElementById","btnGenerar","output","querySelector","fechaNacimiento","fechaNacimientoUsuario","frpalabras","width","window","innerWidth","height","innerHeight","datos","id","angle","x","y","lupa","color","nombre","container","d3","select","append","attr","group","concat","on","e","iw","target","ih","style","fill","selectAll","data","enter","d","Math","PI","text","arco","arc","innerRadius","outerRadius","startAngle","endAngle","arco2","extraeValoresLetras","cadenaTexto","length","a","b","c","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","z","split","map","obtenerCantidadDias","agnio","esAgnioBisiesto","addEventListener","value","parseInt","f1","aFecha1","fFecha1","Date","UTC","fFecha2","dif","floor","inputFecha","normaliza","toLowerCase","textoIntroducido","normalize","replace","reduce","fechaactual","previo","actual","fechaActual","getFullYear","getTime","ceil","grafica","exit","classList","add","innerHTML"],"version":3,"file":"lab.3b46515f.js.map"}